const _0x241bbb = _0x2e27;
function _0x5ab6() {
    const _0x1b21d3 = [
        'groupMetadata',
        'parse',
        '60HniRSg',
        'split',
        '28mJHDJj',
        'AUTO_READ_STATUS',
        '6fXWtvi',
        'notify',
        'superadmin',
        'url',
        'stringify',
        'match',
        'length',
        'remoteJid',
        'body',
        'startsWith',
        'includes',
        '7jdxxCA',
        'admin',
        '293849BPDaOD',
        '8110410aPSiUy',
        'log',
        'type',
        '4324304OROVaF',
        '27PEGvFi',
        'cmds',
        'messages',
        '@s.whatsapp.net',
        'isGroup',
        'dirname',
        'user',
        'file://',
        '.js',
        '743058dSfWvd',
        'readMessages',
        'readdir',
        'toLowerCase',
        'endsWith',
        '4575582WWQLUi',
        'OWNER_NUMBER',
        'join',
        '366770UgAxPz',
        'sender',
        'participants',
        'from',
        '3707020DhrbJz',
        'slice',
        'push',
        'status@broadcast',
        'key',
        'then',
        'error'
    ];
    _0x5ab6 = function () {
        return _0x1b21d3;
    };
    return _0x5ab6();
}
(function (_0x1d9daf, _0xeb6284) {
    const _0x5ffa86 = _0x2e27, _0x105ce1 = _0x1d9daf();
    while (!![]) {
        try {
            const _0x5e5b56 = -parseInt(_0x5ffa86(0x194)) / 0x1 * (parseInt(_0x5ffa86(0x1bb)) / 0x2) + -parseInt(_0x5ffa86(0x1a2)) / 0x3 * (parseInt(_0x5ffa86(0x1b9)) / 0x4) + parseInt(_0x5ffa86(0x1ae)) / 0x5 + parseInt(_0x5ffa86(0x195)) / 0x6 + -parseInt(_0x5ffa86(0x192)) / 0x7 * (parseInt(_0x5ffa86(0x198)) / 0x8) + -parseInt(_0x5ffa86(0x199)) / 0x9 * (parseInt(_0x5ffa86(0x1aa)) / 0xa) + parseInt(_0x5ffa86(0x1a7)) / 0xb * (parseInt(_0x5ffa86(0x1b7)) / 0xc);
            if (_0x5e5b56 === _0xeb6284)
                break;
            else
                _0x105ce1['push'](_0x105ce1['shift']());
        } catch (_0x2ec93f) {
            _0x105ce1['push'](_0x105ce1['shift']());
        }
    }
}(_0x5ab6, 0xdd717));
function _0x2e27(_0x2a0a72, _0x2f53c7) {
    const _0x5ab613 = _0x5ab6();
    return _0x2e27 = function (_0x2e2758, _0x47b6ba) {
        _0x2e2758 = _0x2e2758 - 0x18b;
        let _0x1fb87e = _0x5ab613[_0x2e2758];
        return _0x1fb87e;
    }, _0x2e27(_0x2a0a72, _0x2f53c7);
}
import {
    serialize,
    decodeJid
} from '../../gift/gift.js';
import _0x3feb01 from 'path';
import _0x2fee0a from 'fs/promises';
import _0x1f48ca from '../../set.cjs';
import { smsg } from '../../gift/gifted.cjs';
import { handleAntilink } from './giftke.js';
import { fileURLToPath } from 'url';
const __filename = fileURLToPath(import.meta[_0x241bbb(0x1be)]), __dirname = _0x3feb01[_0x241bbb(0x19e)](__filename);
export const getGroupAdmins = _0x42af6e => {
    const _0xcf55c6 = _0x241bbb;
    let _0x1d0f2c = [];
    for (let _0x39e62d of _0x42af6e) {
        (_0x39e62d[_0xcf55c6(0x193)] === _0xcf55c6(0x1bd) || _0x39e62d[_0xcf55c6(0x193)] === 'admin') && _0x1d0f2c[_0xcf55c6(0x1b0)](_0x39e62d['id']);
    }
    return _0x1d0f2c || [];
};
const Handler = async (_0x4f15ed, _0x50012b, _0x5b6d33) => {
    const _0x2c4860 = _0x241bbb;
    try {
        if (_0x4f15ed[_0x2c4860(0x197)] !== _0x2c4860(0x1bc))
            return;
        const _0x4df6a8 = serialize(JSON[_0x2c4860(0x1b6)](JSON[_0x2c4860(0x18b)](_0x4f15ed[_0x2c4860(0x19b)][0x0])), _0x50012b, _0x5b6d33);
        if (!_0x4df6a8['message'])
            return;
        const _0xe6d8fb = _0x4df6a8[_0x2c4860(0x19d)] ? await _0x50012b[_0x2c4860(0x1b5)](_0x4df6a8[_0x2c4860(0x1ad)])[_0x2c4860(0x1b3)](_0x3b4f41 => _0x3b4f41[_0x2c4860(0x1ac)]) : [], _0x5ca23e = _0x4df6a8['isGroup'] ? getGroupAdmins(_0xe6d8fb) : [], _0xaa354c = _0x50012b[_0x2c4860(0x19f)]['id'][_0x2c4860(0x1b8)](':')[0x0] + _0x2c4860(0x19c), _0x43bae0 = _0x4df6a8[_0x2c4860(0x19d)] ? _0x5ca23e[_0x2c4860(0x191)](_0xaa354c) : ![], _0x47bea5 = _0x4df6a8[_0x2c4860(0x19d)] ? _0x5ca23e['includes'](_0x4df6a8['sender']) : ![], _0x29d969 = /^[\\/!#.]/, _0x36cdc7 = _0x2083ed => _0x29d969['test'](_0x2083ed), _0xe79f3f = _0x36cdc7(_0x4df6a8[_0x2c4860(0x18f)]) ? _0x4df6a8[_0x2c4860(0x18f)][_0x2c4860(0x18c)](_0x29d969) : null, _0x5cf889 = _0xe79f3f ? _0xe79f3f[0x0] : '/', _0x4c209f = _0x4df6a8[_0x2c4860(0x18f)][_0x2c4860(0x190)](_0x5cf889) ? _0x4df6a8[_0x2c4860(0x18f)][_0x2c4860(0x1af)](_0x5cf889[_0x2c4860(0x18d)])[_0x2c4860(0x1b8)]('\x20')[0x0][_0x2c4860(0x1a5)]() : '', _0xe404bc = _0x4df6a8[_0x2c4860(0x18f)][_0x2c4860(0x1af)](_0x5cf889[_0x2c4860(0x18d)] + _0x4c209f[_0x2c4860(0x18d)])['trim']();
        _0x4df6a8[_0x2c4860(0x1b2)] && _0x4df6a8['key'][_0x2c4860(0x18e)] === _0x2c4860(0x1b1) && _0x1f48ca[_0x2c4860(0x1ba)] && await _0x50012b[_0x2c4860(0x1a3)]([_0x4df6a8[_0x2c4860(0x1b2)]]);
        const _0x359927 = await _0x50012b['decodeJid'](_0x50012b[_0x2c4860(0x19f)]['id']), _0x1bf9d3 = _0x1f48ca[_0x2c4860(0x1a8)] + _0x2c4860(0x19c);
        let _0x348198 = ![];
        _0x4df6a8['isGroup'] ? _0x348198 = _0x4df6a8['sender'] === _0x1bf9d3 || _0x4df6a8[_0x2c4860(0x1ab)] === _0x359927 : _0x348198 = _0x4df6a8[_0x2c4860(0x1ab)] === _0x1bf9d3 || _0x4df6a8['sender'] === _0x359927;
        if (!_0x50012b['public']) {
            if (!_0x348198)
                return;
        }
        await handleAntilink(_0x4df6a8, _0x50012b, _0x5b6d33, _0x43bae0, _0x47bea5, _0x348198);
        const {
            isGroup: _0x2e9744,
            type: _0xa5215b,
            sender: _0x73171f,
            from: _0x4a0391,
            body: _0x46bb99
        } = _0x4df6a8;
        console['log'](_0x4df6a8);
        const _0x503090 = _0x3feb01[_0x2c4860(0x1a9)](__dirname, '..', _0x2c4860(0x19a)), _0x122134 = await _0x2fee0a[_0x2c4860(0x1a4)](_0x503090);
        for (const _0x2db4c2 of _0x122134) {
            if (_0x2db4c2[_0x2c4860(0x1a6)](_0x2c4860(0x1a1))) {
                const _0xf16900 = _0x3feb01[_0x2c4860(0x1a9)](_0x503090, _0x2db4c2);
                try {
                    const _0x471d84 = await import(_0x2c4860(0x1a0) + _0xf16900), _0x22755b = _0x471d84['default'];
                    await _0x22755b(_0x4df6a8, _0x50012b);
                } catch (_0x498792) {
                    console[_0x2c4860(0x1b4)]('Failed\x20to\x20load\x20plugin:\x20' + _0xf16900, _0x498792);
                }
            }
        }
    } catch (_0x31beb5) {
        console[_0x2c4860(0x196)](_0x31beb5);
    }
};
export default Handler;
